{
  "name": "TAF Long",
  "version": "1.0.0",
  "description": "TAF Long: Terminal aerodrome forecast (12-30 hours)",
  "extends": "taf",
  "identifier": "TAF",
  "suggestions": {
    "declarations": [
      {
        "id": "validity_long",
        "ref": "issueTime",
        "description": "Validity period DDHH/DDHH (12-30h)",
        "placeholder": "0606/0712",
        "editable": [
          {
            "start": 0,
            "end": 9,
            "pattern": "\\d{4}/\\d{4}",
            "description": "Day+hour start / Day+hour end (12-30h)",
            "defaultsFunction": "() => { const now = new Date(); const d = String(now.getUTCDate()).padStart(2, '0'); const h = String(now.getUTCHours()).padStart(2, '0'); const addHours = (hours) => { const future = new Date(now.getTime() + hours * 60 * 60 * 1000); return String(future.getUTCDate()).padStart(2, '0') + String(future.getUTCHours()).padStart(2, '0'); }; return [{ text: d + h + '/' + addHours(12), description: '12 hours validity', type: 'datetime' }, { text: d + h + '/' + addHours(18), description: '18 hours validity', type: 'datetime' }, { text: d + h + '/' + addHours(24), description: '24 hours validity', type: 'datetime' }, { text: d + h + '/' + addHours(30), description: '30 hours validity', type: 'datetime' }]; }"
          }
        ]
      },
      {
        "id": "nil",
        "ref": "identifier",
        "text": "NIL",
        "description": "Missing forecast"
      }
    ],
    "after": {
      "start": [],
      "issueTime": [
        "nil",
        "validity_long"
      ]
    }
  }
}
